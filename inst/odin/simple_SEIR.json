{"version":"1.0.3","config":{"base":"simple_SEIR","include":[]},"meta":{"internal":"internal","user":"user","state":"state","result":"state_next","output":"output","time":"step","initial_time":"initial_step"},"features":{"discrete":true,"has_array":true,"has_output":true,"has_user":true,"has_delay":false,"has_interpolate":true,"has_stochastic":true,"has_include":false,"initial_time_dependent":false,"safe":false},"data":{"elements":[{"name":"beta","location":"transient","storage_type":"double","rank":0,"dimnames":null},{"name":"beta_set","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_beta_set","dim":null,"mult":null}},{"name":"delta_E1","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_delta_E1","dim":null,"mult":null}},{"name":"delta_E2","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_delta_E2","dim":null,"mult":null}},{"name":"delta_I","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_delta_I","dim":null,"mult":null}},{"name":"delta_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_delta_R","dim":null,"mult":null}},{"name":"dim_beta_set","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_delta_E1","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_delta_E2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_delta_I","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_delta_R","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_E0","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_E02","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_E1","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_E2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_I","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_I0","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_lambda","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_m","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_m_1","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_m_2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_mix_mat_set","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_mix_mat_set_1","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_mix_mat_set_12","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_mix_mat_set_2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_mix_mat_set_3","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_n_EE","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_n_EI","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_n_IR","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_n_SE","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_p_SE","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_R","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_R0","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_S","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_s_ij","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_s_ij_1","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_s_ij_2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_S0","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_temp","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_tt_beta","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_tt_matrix","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dt","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"E0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_E0","dim":null,"mult":null}},{"name":"E02","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_E02","dim":null,"mult":null}},{"name":"E1","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_E1","dim":null,"mult":null}},{"name":"E2","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_E2","dim":null,"mult":null}},{"name":"gamma_E","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"gamma_I","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"I","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_I","dim":null,"mult":null}},{"name":"I0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_I0","dim":null,"mult":null}},{"name":"initial_E1","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_E1","dim":null,"mult":null}},{"name":"initial_E2","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_E2","dim":null,"mult":null}},{"name":"initial_I","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_I","dim":null,"mult":null}},{"name":"initial_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_R","dim":null,"mult":null}},{"name":"initial_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S","dim":null,"mult":null}},{"name":"interpolate_beta","location":"internal","storage_type":"interpolate_data","rank":0,"dimnames":null},{"name":"interpolate_m","location":"internal","storage_type":"interpolate_data","rank":2,"dimnames":{"length":"dim_m","dim":["dim_m_1","dim_m_2"],"mult":["","dim_m_1"]}},{"name":"lambda","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_lambda","dim":null,"mult":null}},{"name":"m","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_m","dim":["dim_m_1","dim_m_2"],"mult":["","dim_m_1"]}},{"name":"mix_mat_set","location":"internal","storage_type":"double","rank":3,"dimnames":{"length":"dim_mix_mat_set","dim":["dim_mix_mat_set_1","dim_mix_mat_set_2","dim_mix_mat_set_3"],"mult":["","dim_mix_mat_set_1","dim_mix_mat_set_12"]}},{"name":"N_age","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"n_EE","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_n_EE","dim":null,"mult":null}},{"name":"n_EI","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_n_EI","dim":null,"mult":null}},{"name":"n_IR","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_n_IR","dim":null,"mult":null}},{"name":"n_SE","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_n_SE","dim":null,"mult":null}},{"name":"offset_variable_E2","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"offset_variable_I","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"offset_variable_R","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"p_EE","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"p_EI","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"p_IR","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"p_SE","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_p_SE","dim":null,"mult":null}},{"name":"R","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_R","dim":null,"mult":null}},{"name":"R0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_R0","dim":null,"mult":null}},{"name":"S","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_S","dim":null,"mult":null}},{"name":"s_ij","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_s_ij","dim":["dim_s_ij_1","dim_s_ij_2"],"mult":["","dim_s_ij_1"]}},{"name":"S0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S0","dim":null,"mult":null}},{"name":"temp","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_temp","dim":null,"mult":null}},{"name":"time","location":"transient","storage_type":"double","rank":0,"dimnames":null},{"name":"tt_beta","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_tt_beta","dim":null,"mult":null}},{"name":"tt_matrix","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_tt_matrix","dim":null,"mult":null}}],"variable":{"length":["+",["+",["+",["+","dim_S","dim_E1"],"dim_E2"],"dim_I"],"dim_R"],"contents":[{"name":"S","offset":0,"initial":"initial_S"},{"name":"E1","offset":"dim_S","initial":"initial_E1"},{"name":"E2","offset":"offset_variable_E2","initial":"initial_E2"},{"name":"I","offset":"offset_variable_I","initial":"initial_I"},{"name":"R","offset":"offset_variable_R","initial":"initial_R"}]},"output":{"length":["+",1,"dim_n_EI"],"contents":[{"name":"time","offset":0},{"name":"n_EI","offset":1}]}},"equations":[{"name":"alloc_delta_E1","type":"alloc","source":[87],"depends":{"functions":[],"variables":["dim_delta_E1"]},"lhs":"delta_E1"},{"name":"alloc_delta_E2","type":"alloc","source":[91],"depends":{"functions":[],"variables":["dim_delta_E2"]},"lhs":"delta_E2"},{"name":"alloc_delta_I","type":"alloc","source":[96],"depends":{"functions":[],"variables":["dim_delta_I"]},"lhs":"delta_I"},{"name":"alloc_delta_R","type":"alloc","source":[101],"depends":{"functions":[],"variables":["dim_delta_R"]},"lhs":"delta_R"},{"name":"alloc_initial_E1","type":"alloc","source":[84],"depends":{"functions":[],"variables":["dim_E1"]},"lhs":"initial_E1"},{"name":"alloc_initial_E2","type":"alloc","source":[90],"depends":{"functions":[],"variables":["dim_E2"]},"lhs":"initial_E2"},{"name":"alloc_initial_I","type":"alloc","source":[95],"depends":{"functions":[],"variables":["dim_I"]},"lhs":"initial_I"},{"name":"alloc_initial_R","type":"alloc","source":[99],"depends":{"functions":[],"variables":["dim_R"]},"lhs":"initial_R"},{"name":"alloc_initial_S","type":"alloc","source":[79],"depends":{"functions":[],"variables":["dim_S"]},"lhs":"initial_S"},{"name":"alloc_lambda","type":"alloc","source":[103],"depends":{"functions":[],"variables":["dim_lambda"]},"lhs":"lambda"},{"name":"alloc_m","type":"alloc","source":[42],"depends":{"functions":[],"variables":["dim_m"]},"lhs":"m"},{"name":"alloc_n_EE","type":"alloc","source":[88],"depends":{"functions":[],"variables":["dim_n_EE"]},"lhs":"n_EE"},{"name":"alloc_n_EI","type":"alloc","source":[92],"depends":{"functions":[],"variables":["dim_n_EI"]},"lhs":"n_EI"},{"name":"alloc_n_IR","type":"alloc","source":[97],"depends":{"functions":[],"variables":["dim_n_IR"]},"lhs":"n_IR"},{"name":"alloc_n_SE","type":"alloc","source":[82],"depends":{"functions":[],"variables":["dim_n_SE"]},"lhs":"n_SE"},{"name":"alloc_p_SE","type":"alloc","source":[81],"depends":{"functions":[],"variables":["dim_p_SE"]},"lhs":"p_SE"},{"name":"alloc_s_ij","type":"alloc","source":[104],"depends":{"functions":[],"variables":["dim_s_ij"]},"lhs":"s_ij"},{"name":"alloc_temp","type":"alloc","source":[105],"depends":{"functions":[],"variables":["dim_temp"]},"lhs":"temp"},{"name":"beta","type":"interpolate","source":[49],"depends":{"functions":[],"variables":["step","interpolate_beta"]},"lhs":"beta","interpolate":"interpolate_beta"},{"name":"beta_set","type":"user","source":[51],"depends":{"functions":["length"],"variables":["dim_beta_set"]},"lhs":"beta_set","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"delta_E1","type":"expression_array","source":[33],"depends":{"functions":["length","-","["],"variables":["dim_delta_E1","n_SE","i","n_EE","alloc_delta_E1"]},"lhs":"delta_E1","rhs":[{"index":[{"value":[":",1,["length","delta_E1"]],"is_range":true,"index":"i"}],"value":["-",["[","n_SE","i"],["[","n_EE","i"]]}]},{"name":"delta_E2","type":"expression_array","source":[34],"depends":{"functions":["length","-","["],"variables":["dim_delta_E2","n_EE","i","n_EI","alloc_delta_E2"]},"lhs":"delta_E2","rhs":[{"index":[{"value":[":",1,["length","delta_E2"]],"is_range":true,"index":"i"}],"value":["-",["[","n_EE","i"],["[","n_EI","i"]]}]},{"name":"delta_I","type":"expression_array","source":[35],"depends":{"functions":["length","-","["],"variables":["dim_delta_I","n_EI","i","n_IR","alloc_delta_I"]},"lhs":"delta_I","rhs":[{"index":[{"value":[":",1,["length","delta_I"]],"is_range":true,"index":"i"}],"value":["-",["[","n_EI","i"],["[","n_IR","i"]]}]},{"name":"delta_R","type":"expression_array","source":[36],"depends":{"functions":["length","["],"variables":["dim_delta_R","n_IR","i","alloc_delta_R"]},"lhs":"delta_R","rhs":[{"index":[{"value":[":",1,["length","delta_R"]],"is_range":true,"index":"i"}],"value":["[","n_IR","i"]}]},{"name":"dim_beta_set","type":"expression_scalar","source":[53],"depends":{"functions":["length"],"variables":["dim_tt_beta"]},"lhs":"dim_beta_set","rhs":{"value":["length","tt_beta"]}},{"name":"dim_delta_E1","type":"expression_scalar","source":[87],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_delta_E1","rhs":{"value":"N_age"}},{"name":"dim_delta_E2","type":"expression_scalar","source":[91],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_delta_E2","rhs":{"value":"N_age"}},{"name":"dim_delta_I","type":"expression_scalar","source":[96],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_delta_I","rhs":{"value":"N_age"}},{"name":"dim_delta_R","type":"expression_scalar","source":[101],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_delta_R","rhs":{"value":"N_age"}},{"name":"dim_E0","type":"expression_scalar","source":[85],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_E0","rhs":{"value":"N_age"}},{"name":"dim_E02","type":"expression_scalar","source":[86],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_E02","rhs":{"value":"N_age"}},{"name":"dim_E1","type":"expression_scalar","source":[84],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_E1","rhs":{"value":"N_age"}},{"name":"dim_E2","type":"expression_scalar","source":[90],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_E2","rhs":{"value":"N_age"}},{"name":"dim_I","type":"expression_scalar","source":[95],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_I","rhs":{"value":"N_age"}},{"name":"dim_I0","type":"expression_scalar","source":[94],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_I0","rhs":{"value":"N_age"}},{"name":"dim_lambda","type":"expression_scalar","source":[103],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_lambda","rhs":{"value":"N_age"}},{"name":"dim_m","type":"expression_scalar","source":[42],"depends":{"functions":[],"variables":["dim_m_1","dim_m_2"]},"lhs":"dim_m","rhs":{"value":["*","dim_m_1","dim_m_2"]}},{"name":"dim_m_1","type":"expression_scalar","source":[42],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_m_1","rhs":{"value":"N_age"}},{"name":"dim_m_2","type":"expression_scalar","source":[42],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_m_2","rhs":{"value":"N_age"}},{"name":"dim_mix_mat_set","type":"expression_scalar","source":[46],"depends":{"functions":[],"variables":["dim_mix_mat_set_1","dim_mix_mat_set_2","dim_mix_mat_set_3"]},"lhs":"dim_mix_mat_set","rhs":{"value":["*",["*","dim_mix_mat_set_1","dim_mix_mat_set_2"],"dim_mix_mat_set_3"]}},{"name":"dim_mix_mat_set_1","type":"expression_scalar","source":[46],"depends":{"functions":["length"],"variables":["dim_tt_matrix","N_age"]},"lhs":"dim_mix_mat_set_1","rhs":{"value":["length","tt_matrix"]}},{"name":"dim_mix_mat_set_12","type":"expression_scalar","source":[46],"depends":{"functions":[],"variables":["dim_mix_mat_set_1","dim_mix_mat_set_2"]},"lhs":"dim_mix_mat_set_12","rhs":{"value":["*","dim_mix_mat_set_1","dim_mix_mat_set_2"]}},{"name":"dim_mix_mat_set_2","type":"expression_scalar","source":[46],"depends":{"functions":["length"],"variables":["dim_tt_matrix","N_age"]},"lhs":"dim_mix_mat_set_2","rhs":{"value":"N_age"}},{"name":"dim_mix_mat_set_3","type":"expression_scalar","source":[46],"depends":{"functions":["length"],"variables":["dim_tt_matrix","N_age"]},"lhs":"dim_mix_mat_set_3","rhs":{"value":"N_age"}},{"name":"dim_n_EE","type":"expression_scalar","source":[88],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_n_EE","rhs":{"value":"N_age"}},{"name":"dim_n_EI","type":"expression_scalar","source":[92],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_n_EI","rhs":{"value":"N_age"}},{"name":"dim_n_IR","type":"expression_scalar","source":[97],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_n_IR","rhs":{"value":"N_age"}},{"name":"dim_n_SE","type":"expression_scalar","source":[82],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_n_SE","rhs":{"value":"N_age"}},{"name":"dim_p_SE","type":"expression_scalar","source":[81],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_p_SE","rhs":{"value":"N_age"}},{"name":"dim_R","type":"expression_scalar","source":[99],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_R","rhs":{"value":"N_age"}},{"name":"dim_R0","type":"expression_scalar","source":[100],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_R0","rhs":{"value":"N_age"}},{"name":"dim_S","type":"expression_scalar","source":[79],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_S","rhs":{"value":"N_age"}},{"name":"dim_s_ij","type":"expression_scalar","source":[104],"depends":{"functions":[],"variables":["dim_s_ij_1","dim_s_ij_2"]},"lhs":"dim_s_ij","rhs":{"value":["*","dim_s_ij_1","dim_s_ij_2"]}},{"name":"dim_s_ij_1","type":"expression_scalar","source":[104],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_s_ij_1","rhs":{"value":"N_age"}},{"name":"dim_s_ij_2","type":"expression_scalar","source":[104],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_s_ij_2","rhs":{"value":"N_age"}},{"name":"dim_S0","type":"expression_scalar","source":[80],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_S0","rhs":{"value":"N_age"}},{"name":"dim_temp","type":"expression_scalar","source":[105],"depends":{"functions":[],"variables":["N_age"]},"lhs":"dim_temp","rhs":{"value":"N_age"}},{"name":"dt","type":"user","source":[6],"depends":null,"lhs":"dt","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"E0","type":"user","source":[69],"depends":{"functions":["length"],"variables":["dim_E0"]},"lhs":"E0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"E02","type":"user","source":[70],"depends":{"functions":["length"],"variables":["dim_E02"]},"lhs":"E02","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"gamma_E","type":"user","source":[75],"depends":null,"lhs":"gamma_E","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"gamma_I","type":"user","source":[76],"depends":null,"lhs":"gamma_I","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"I0","type":"user","source":[71],"depends":{"functions":["length"],"variables":["dim_I0"]},"lhs":"I0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"initial_E1","type":"expression_array","source":[62],"depends":{"functions":["length","["],"variables":["dim_E1","E0","i"]},"lhs":"initial_E1","rhs":[{"index":[{"value":[":",1,["length","E1"]],"is_range":true,"index":"i"}],"value":["[","E0","i"]}]},{"name":"initial_E2","type":"expression_array","source":[63],"depends":{"functions":["length","["],"variables":["dim_E2","E02","i"]},"lhs":"initial_E2","rhs":[{"index":[{"value":[":",1,["length","E2"]],"is_range":true,"index":"i"}],"value":["[","E02","i"]}]},{"name":"initial_I","type":"expression_array","source":[64],"depends":{"functions":["length","["],"variables":["dim_I","I0","i"]},"lhs":"initial_I","rhs":[{"index":[{"value":[":",1,["length","I"]],"is_range":true,"index":"i"}],"value":["[","I0","i"]}]},{"name":"initial_R","type":"expression_array","source":[65],"depends":{"functions":["length","["],"variables":["dim_R","R0","i"]},"lhs":"initial_R","rhs":[{"index":[{"value":[":",1,["length","R"]],"is_range":true,"index":"i"}],"value":["[","R0","i"]}]},{"name":"initial_S","type":"expression_array","source":[61],"depends":{"functions":["length","["],"variables":["dim_S","S0","i"]},"lhs":"initial_S","rhs":[{"index":[{"value":[":",1,["length","S"]],"is_range":true,"index":"i"}],"value":["[","S0","i"]}]},{"name":"interpolate_beta","type":"alloc_interpolate","source":[49],"depends":{"functions":[],"variables":["tt_beta","beta_set"]},"lhs":"interpolate_beta","interpolate":{"t":"tt_beta","y":"beta_set","type":"constant","equation":"beta"}},{"name":"interpolate_m","type":"alloc_interpolate","source":[41],"depends":{"functions":["dim"],"variables":["dim_m","tt_matrix","mix_mat_set","alloc_m"]},"lhs":"interpolate_m","interpolate":{"t":"tt_matrix","y":"mix_mat_set","type":"constant","equation":"m"}},{"name":"lambda","type":"expression_array","source":[58],"depends":{"functions":["length","*","odin_sum","dim"],"variables":["dim_lambda","beta","s_ij","i","dim_s_ij","alloc_lambda"]},"lhs":"lambda","rhs":[{"index":[{"value":[":",1,["length","lambda"]],"is_range":true,"index":"i"}],"value":["*","beta",["odin_sum","s_ij","i","i",1,["dim","s_ij",2]]]}]},{"name":"m","type":"interpolate","source":[41],"depends":{"functions":[],"variables":["step","interpolate_m"]},"lhs":"m","interpolate":"interpolate_m"},{"name":"mix_mat_set","type":"user","source":[44],"depends":{"functions":["dim"],"variables":["dim_mix_mat_set"]},"lhs":"mix_mat_set","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"N_age","type":"user","source":[11],"depends":null,"lhs":"N_age","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"n_EE","type":"expression_array","source":[28],"depends":{"functions":["length","rbinom","["],"variables":["dim_n_EE","E1","i","p_EE","alloc_n_EE"]},"lhs":"n_EE","rhs":[{"index":[{"value":[":",1,["length","n_EE"]],"is_range":true,"index":"i"}],"value":["rbinom",["[","E1","i"],"p_EE"]}]},{"name":"n_EI","type":"expression_array","source":[29],"depends":{"functions":["length","rbinom","["],"variables":["dim_n_EI","E2","i","p_EI","alloc_n_EI"]},"lhs":"n_EI","rhs":[{"index":[{"value":[":",1,["length","n_EI"]],"is_range":true,"index":"i"}],"value":["rbinom",["[","E2","i"],"p_EI"]}]},{"name":"n_IR","type":"expression_array","source":[31],"depends":{"functions":["length","rbinom","["],"variables":["dim_n_IR","I","i","p_IR","alloc_n_IR"]},"lhs":"n_IR","rhs":[{"index":[{"value":[":",1,["length","n_IR"]],"is_range":true,"index":"i"}],"value":["rbinom",["[","I","i"],"p_IR"]}]},{"name":"n_SE","type":"expression_array","source":[27],"depends":{"functions":["length","rbinom","["],"variables":["dim_n_SE","S","i","p_SE","alloc_n_SE"]},"lhs":"n_SE","rhs":[{"index":[{"value":[":",1,["length","n_SE"]],"is_range":true,"index":"i"}],"value":["rbinom",["[","S","i"],["[","p_SE","i"]]}]},{"name":"offset_variable_E2","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_S","dim_E1"]},"lhs":"offset_variable_E2","rhs":{"value":["+","dim_S","dim_E1"]}},{"name":"offset_variable_I","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_S","dim_E1","dim_E2"]},"lhs":"offset_variable_I","rhs":{"value":["+",["+","dim_S","dim_E1"],"dim_E2"]}},{"name":"offset_variable_R","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_S","dim_E1","dim_E2","dim_I"]},"lhs":"offset_variable_R","rhs":{"value":["+",["+",["+","dim_S","dim_E1"],"dim_E2"],"dim_I"]}},{"name":"output_n_EI","type":"copy","source":[30],"depends":{"functions":[],"variables":["n_EI"]},"lhs":"n_EI"},{"name":"output_time","type":"copy","source":[8],"depends":{"functions":[],"variables":["time"]},"lhs":"time"},{"name":"p_EE","type":"expression_scalar","source":[22],"depends":{"functions":["-","exp","*"],"variables":["gamma_E","dt"]},"lhs":"p_EE","rhs":{"value":["-",1,["exp",["*",["-","gamma_E"],"dt"]]]}},{"name":"p_EI","type":"expression_scalar","source":[23],"depends":{"functions":["-","exp","*"],"variables":["gamma_E","dt"]},"lhs":"p_EI","rhs":{"value":["-",1,["exp",["*",["-","gamma_E"],"dt"]]]}},{"name":"p_IR","type":"expression_scalar","source":[24],"depends":{"functions":["-","exp","*"],"variables":["gamma_I","dt"]},"lhs":"p_IR","rhs":{"value":["-",1,["exp",["*",["-","gamma_I"],"dt"]]]}},{"name":"p_SE","type":"expression_array","source":[21],"depends":{"functions":["length","-","exp","*","["],"variables":["dim_p_SE","lambda","i","dt","alloc_p_SE"]},"lhs":"p_SE","rhs":[{"index":[{"value":[":",1,["length","p_SE"]],"is_range":true,"index":"i"}],"value":["-",1,["exp",["*",["-",["[","lambda","i"]],"dt"]]]}]},{"name":"R0","type":"user","source":[72],"depends":{"functions":["length"],"variables":["dim_R0"]},"lhs":"R0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"s_ij","type":"expression_array","source":[57],"depends":{"functions":["dim","*","["],"variables":["dim_s_ij","m","i","j","temp","alloc_s_ij"]},"lhs":"s_ij","rhs":[{"index":[{"value":[":",1,["dim","s_ij",1]],"is_range":true,"index":"i"},{"value":[":",1,["dim","s_ij",2]],"is_range":true,"index":"j"}],"value":["*",["[","m","i","j"],["[","temp","j"]]}]},{"name":"S0","type":"user","source":[68],"depends":{"functions":["length"],"variables":["dim_S0"]},"lhs":"S0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"temp","type":"expression_array","source":[56],"depends":{"functions":["length","["],"variables":["dim_temp","I","i","alloc_temp"]},"lhs":"temp","rhs":[{"index":[{"value":[":",1,["length","temp"]],"is_range":true,"index":"i"}],"value":["[","I","i"]}]},{"name":"time","type":"expression_scalar","source":[7],"depends":{"functions":["*"],"variables":["step","dt"]},"lhs":"time","rhs":{"value":["*","step","dt"]}},{"name":"tt_beta","type":"user","source":[50],"depends":null,"lhs":"tt_beta","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"tt_matrix","type":"user","source":[43],"depends":null,"lhs":"tt_matrix","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"update_E1","type":"expression_array","source":[15],"depends":{"functions":["length","+","["],"variables":["dim_E1","E1","i","delta_E1"]},"lhs":"E1","rhs":[{"index":[{"value":[":",1,["length","E1"]],"is_range":true,"index":"i"}],"value":["+",["[","E1","i"],["[","delta_E1","i"]]}]},{"name":"update_E2","type":"expression_array","source":[16],"depends":{"functions":["length","+","["],"variables":["dim_E2","E2","i","delta_E2"]},"lhs":"E2","rhs":[{"index":[{"value":[":",1,["length","E2"]],"is_range":true,"index":"i"}],"value":["+",["[","E2","i"],["[","delta_E2","i"]]}]},{"name":"update_I","type":"expression_array","source":[17],"depends":{"functions":["length","+","["],"variables":["dim_I","I","i","delta_I"]},"lhs":"I","rhs":[{"index":[{"value":[":",1,["length","I"]],"is_range":true,"index":"i"}],"value":["+",["[","I","i"],["[","delta_I","i"]]}]},{"name":"update_R","type":"expression_array","source":[18],"depends":{"functions":["length","+","["],"variables":["dim_R","R","i","delta_R"]},"lhs":"R","rhs":[{"index":[{"value":[":",1,["length","R"]],"is_range":true,"index":"i"}],"value":["+",["[","R","i"],["[","delta_R","i"]]}]},{"name":"update_S","type":"expression_array","source":[14],"depends":{"functions":["length","-","["],"variables":["dim_S","S","i","n_SE"]},"lhs":"S","rhs":[{"index":[{"value":[":",1,["length","S"]],"is_range":true,"index":"i"}],"value":["-",["[","S","i"],["[","n_SE","i"]]}]}],"components":{"create":{"variables":[],"equations":[]},"user":{"variables":[],"equations":["dt","gamma_E","gamma_I","N_age","tt_beta","tt_matrix","dim_delta_E1","dim_delta_E2","dim_delta_I","dim_delta_R","dim_E0","dim_E02","dim_E1","dim_E2","dim_I","dim_I0","dim_lambda","dim_m_1","dim_m_2","dim_n_EE","dim_n_EI","dim_n_IR","dim_n_SE","dim_p_SE","dim_R","dim_R0","dim_S","dim_s_ij_1","dim_s_ij_2","dim_S0","dim_temp","p_EE","p_EI","p_IR","alloc_delta_E1","alloc_delta_E2","alloc_delta_I","alloc_delta_R","alloc_initial_E1","alloc_initial_E2","alloc_initial_I","alloc_initial_R","alloc_initial_S","alloc_lambda","alloc_n_EE","alloc_n_EI","alloc_n_IR","alloc_n_SE","alloc_p_SE","alloc_temp","dim_beta_set","dim_m","dim_mix_mat_set_1","dim_mix_mat_set_2","dim_mix_mat_set_3","dim_s_ij","E0","E02","I0","offset_variable_E2","offset_variable_I","offset_variable_R","R0","S0","alloc_m","alloc_s_ij","beta_set","dim_mix_mat_set","dim_mix_mat_set_12","initial_E1","initial_E2","initial_I","initial_R","initial_S","interpolate_beta","mix_mat_set","interpolate_m"]},"initial":{"variables":[],"equations":[]},"rhs":{"variables":["S","E1","E2","I","R"],"equations":["n_EE","n_EI","n_IR","temp","delta_E2","delta_I","delta_R","beta","update_E2","update_I","update_R","m","s_ij","lambda","p_SE","n_SE","delta_E1","update_S","update_E1"]},"output":{"variables":["E2"],"equations":["time","output_time","n_EI","output_n_EI"]}},"user":[{"name":"beta_set","has_default":false},{"name":"dt","has_default":false},{"name":"E0","has_default":false},{"name":"E02","has_default":false},{"name":"gamma_E","has_default":false},{"name":"gamma_I","has_default":false},{"name":"I0","has_default":false},{"name":"mix_mat_set","has_default":false},{"name":"N_age","has_default":false},{"name":"R0","has_default":false},{"name":"S0","has_default":false},{"name":"tt_beta","has_default":false},{"name":"tt_matrix","has_default":false}],"interpolate":{"min":["tt_beta","tt_matrix"],"max":[],"critical":["tt_beta","tt_matrix"]},"source":["#E and R stage indexed by i andj with","#i for the age group","#j for the progression (not exponential latent and infectious period)","","# Time Steps","dt <- user()","time <- step * dt","output(time) <- TRUE","","#Number of age classes & number of transmissibility classes","N_age <- user()","","## Core equations for transitions between compartments:","update(S[]) <- S[i] - n_SE[i]","update(E1[]) <- E1[i] + delta_E1[i]","update(E2[]) <- E2[i] + delta_E2[i]","update(I[]) <- I[i] + delta_I[i]","update(R[]) <- R[i] + delta_R[i]","","## Individual probabilities of transition:","p_SE[] <- 1 - exp(-lambda[i] * dt) # S to I - age dependent","p_EE <- 1 - exp(-gamma_E * dt) # progression through latent period","p_EI <- 1 - exp(-gamma_E * dt) # progression through latent period","p_IR <- 1 - exp(-gamma_I * dt) # progression through infectious period","","## Draws from binomial distributions for numbers changing between compartments:","n_SE[] <- rbinom(S[i], p_SE[i])","n_EE[] <- rbinom(E1[i], p_EE)","n_EI[] <- rbinom(E2[i], p_EI)","output(n_EI[]) <- TRUE","n_IR[] <- rbinom(I[i], p_IR)","","delta_E1[] <- n_SE[i] - n_EE[i]","delta_E2[] <- n_EE[i] - n_EI[i]","delta_I[] <- n_EI[i] - n_IR[i]","delta_R[] <- n_IR[i]","","#Compute the force of infection","","# Interpolation for Mixing Matrix","m[, ] <- interpolate(tt_matrix, mix_mat_set, \"constant\")","dim(m) <- c(N_age, N_age)","tt_matrix[] <- user()","mix_mat_set[, ,] <- user()","dim(tt_matrix) <- user()","dim(mix_mat_set) <- c(length(tt_matrix), N_age, N_age)","","# Interpolation for beta","beta <- interpolate(tt_beta, beta_set, \"constant\")","tt_beta[] <- user()","beta_set[] <- user()","dim(tt_beta) <- user()","dim(beta_set) <- length(tt_beta)","","# Generating Force of Infection","temp[] <- I[i]","s_ij[,] <- m[i,j] * temp[j] # why temp[j] not temp[i]","lambda[] <- beta * sum(s_ij[i,])","","## Initial states:","initial(S[]) <- S0[i]","initial(E1[]) <- E0[i]","initial(E2[]) <- E02[i]","initial(I[]) <- I0[i]","initial(R[]) <- R0[i]","","##Initial vectors","S0[] <- user()","E0[] <- user()","E02[] <- user()","I0[] <- user()","R0[] <- user()","","##Parameters","gamma_E <- user()","gamma_I <- user()","","##Dimensions of the different \"vectors\" here vectors stand for multi-dimensional arrays","dim(S) <- N_age","dim(S0) <- N_age","dim(p_SE) <- N_age","dim(n_SE) <- N_age","","dim(E1) <- c(N_age)","dim(E0) <- c(N_age)","dim(E02) <- c(N_age)","dim(delta_E1) <- c(N_age)","dim(n_EE) <- c(N_age)","","dim(E2) <- c(N_age)","dim(delta_E2) <- c(N_age)","dim(n_EI) <- c(N_age)","","dim(I0) <- c(N_age)","dim(I) <- c(N_age)","dim(delta_I) <- c(N_age)","dim(n_IR) <- c(N_age)","","dim(R) <- c(N_age)","dim(R0) <- c(N_age)","dim(delta_R) <- c(N_age)","","dim(lambda) <- N_age","dim(s_ij) <- c(N_age,N_age)","dim(temp) <- N_age"]}
